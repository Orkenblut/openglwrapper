package com.freja.openglwrapper.renderer;

import android.opengl.GLES20;
import android.util.Log;

public class VertexShader {
	private int mHandle;

	/**
	 * Load Vertex Shader
	 * @throws Exception 
	 * @return Vertex Shader Handle
	 */
	int LoadVertexShader(String shader) throws RuntimeException {
		mHandle = GLES20.glCreateShader(GLES20.GL_VERTEX_SHADER);
		if(mHandle != 0) {
			GLES20.glShaderSource(mHandle, shader);
			GLES20.glCompileShader(mHandle);
			final int[] compileStatus = new int[1];
			GLES20.glGetShaderiv(mHandle, GLES20.GL_COMPILE_STATUS, compileStatus, 0);
			if(compileStatus[0] == 0) {
				GLES20.glDeleteShader(mHandle);
				mHandle = 0;
			}
		} else {
			Log.e("Error", "Couldn't create VertexShader");
			throw new RuntimeException("Couldn't create VertexShader");
		}		
		if(mHandle == 0) {
			throw new RuntimeException("Couldn't compile VertexShader");
		}
		return mHandle;
	}
}
